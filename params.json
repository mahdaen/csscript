{"name":"CSScript","tagline":"CSS inline script runner. Use javascript pattern to define css value.","body":"CSS Script\r\n====\r\n\r\nInline `css` script runner. Use `javascript` to define `css` value or eval script directly via css.\r\n**CSS Script** is [DOMList](https://github.com/mahdaen/domlist) and **jQuery** extension.\r\nTo makes **CSS Script** working, you should load it after loading DOMList.\r\nIf you want to use **jQUery**, then you must load [jQPatch](https://github.com/mahdaen/jqpatch) before load this. \r\n\r\n### **Syntax**\r\n***\r\n\r\n`cssproperty: '%(SCRIPT)%';`\r\n\r\nScripts should be inside `%()%` pattern. Currently we have param `$i` as index number of selected element.\r\n\r\n### **CONFIGS**\r\n***\r\n\r\nBy default, CSScript convert the CSSRule string to CSSRule object if contains CSScript pattern.\r\nIf you want to convert all rules no matter they have CSScript pattern or not, please write config before loading the CSScript.\r\n\r\n**WARNING!** Converting all rules will takes load time on a big css.\r\n\r\nWe also added `AutoRender` support for DOM insertion event. So, when some dom element inserted into document,\r\nCSSCript will re-render. We use animation to define insertion event since dom mutation event already deprecated.\r\nBy default we turn this feature `off` for performance support. You can enable it by adding configs before loading CSScript.\r\n\r\n- `window.CSScriptExtractAll` - Extract all rules.\r\n- `window.CSScriptAutoRender` - Re-render styles when DOM element inserted into document.\r\n\r\n###### Config sample\r\n```html\r\n\t<script type=\"text/javascript\">\r\n\t\t// Extract all rules.\r\n\t\twindow.CSScriptExtractAll = true;\r\n\t\t\r\n\t\t// Enable auto-render on DOM insertion.\r\n\t\twindow.CSScriptAutoRender = true;\r\n\t</script>\r\n\t<script type=\"text/javascript\" src=\"csscript/dist/csscript.min.j\"></script>\r\n```\r\n\r\nIf you want to access the converted rules, you can read `window.CSScriptLists` object in browser console.\r\n\r\n#### **Download**\r\n***\r\n\r\nYou can get **CSScript** by choosing download above or using:\r\n```\r\nnpm install csscript\r\n```\r\nor\r\n```\r\nbower install csscript\r\n```\r\n\r\n#### **TODO**:\r\n***\r\n\r\n* Add Font Face Support\r\n* Add Keyframes Support\r\n* Add more events support.\r\n\r\n#### **Supported Events**\r\n***\r\n\r\n- `click`\r\n- `hover`\r\n- `mouseenter`\r\n- `mouseleave`\r\n- `focus`\r\n- `blur`\r\n- `change`\r\n\r\n#### **Inline Params**\r\n***\r\n\r\n- `$i` as index number of current element.\r\n- `@` as `var` to define variable. e.g: `@winHeight = window.innerHeight` is equal to `var winHeight = window.innerHeight`\r\n\r\n### **Examples**\r\n***\r\n\r\n```html\r\n<html>\r\n\t<head>\r\n\t\t<link rel=\"stylesheet\" href=\"main.css\" />\r\n\t\t<script type=\"text/javascript\" src=\"domlist/dist/domlist.min.js\"></script>\r\n\t\t<script type=\"text/javascript\" src=\"csscript/dist/csscript.min.js\"></script>\r\n\t</head>\r\n\t<body>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"container-offset\">\r\n\t\t\t\t<div class=\"container-content\">\r\n\t\t\t\t\t<div class=\"only-mobile\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"fit-list\">\r\n\t\t\t<div class=\"fill\"></div>\r\n\t\t\t<div class=\"fill\"></div>\r\n\t\t\t<div class=\"fill\"></div>\r\n\t\t</div>\r\n\t</body>\r\n</html>\r\n```\r\n\r\n##### **main.css**\r\n```css\r\n.container {\r\n\twidth: '%(window.innerWidth > 960 ? 960 : window.innerWidth)%';\r\n\tmargin: 0 auto;\r\n}\r\n.container-offset {\r\n\theight: 300px;\r\n}\r\n.container-content {\r\n\theight: '%($(\".container\").height() / 2)%';\r\n}\r\n.mobile-only {\r\n\tdisplay: '%(window.innerWidth <= 320 ? \"block\" : \"none\")%';\r\n}\r\n\r\n// Using index number of li and log the index.\r\nul .increased-height {\r\n\theight: '%(($i * 10) - 5)%';\r\n\tscripts: '%(console.log($i))%';\r\n}\r\n\r\n// Run javascripts.\r\n.container-content:click {\r\n    scripts: '%($(\".container\").toggleClass(\"content-hovered\"))%';\r\n}\r\n\r\n// Create element that has dynamic height depend on childrens length on parent element.\r\n.fit-list {\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\theight: '%( window.innerHeight )%';\r\n}\r\n.fit-list .fill {\r\n\t// Get the parent element childrens length.\r\n\tscript: '%( @flChilds = $(this).parent().children().length )%';\r\n\t\r\n\t// Get the height by counting total height with total childrens.\r\n\tscript: '%( @clHeight = (window.innerHeight / @flChilds) )%';\r\n\t\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\theight: '%( @clHeight )%'; // Using @clHeight\r\n}\r\n\r\n// Use with media query.\r\n@media only screen and (max-width: 1024) {\r\n    .fit-list {\r\n        script: '%( $(this).appendTo(\".container-content\") )%';\r\n    }\r\n}\r\n```\r\n\r\n### **Manual Render**\r\n***\r\n\r\nUse `$.renderCSScript()` to re-render the styles.\r\nUsually, it's usefull when you want to use `CSScript` after loading ajax or drawing new element.\r\n\r\n##### `Example`\r\n```js\r\n$.ajax('http://localhost').complete(function(data) {\r\n    $('.content').append(data);\r\n    \r\n    // Re-render styles after ajax complete and inserting content complete.\r\n    $.renderCSScript();\r\n});\r\n```\r\n\r\n### **NOTES**\r\n***\r\n\r\nThis project is under development. Use it if you want to give a try.\r\nIf you want to contribute to this project, I say thanks. :)\r\nhttps://github.com/mahdaen/csscript\r\n\r\n\r\n## Release History\r\n* 2015-02-24        v0.2.0      \"Adding auto render on dom insertion event.\"\r\n* 2015-02-22        v0.1.0      \"Adding Media Query support and Manual Render (for ajax or draw purpose)\"\r\n* 2015-02-06        v0.0.1      \"First release\"\r\n","google":"UA-59976857-1","note":"Don't delete this file! It's used internally to help with page regeneration."}