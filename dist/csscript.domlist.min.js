!function($){"use strict";document.addEventListener("readystatechange",function(){"interactive"===document.readyState&&setTimeout(initParser,0)});var initParser=function(){$('<style type="text/css" id="csscript-holder">').appendTo("head"),$('link[rel="stylesheet"]').each(function(){var a=$(this).attr("href");if(isString(a))$.get(a).success(function(b){b.search(/\%\(/)<0&&!CSScriptExtractAll||(ColectedCSS.push({css:b,url:a}),$.renderCSScript())});else{var b=$(this).html();if(b.search(/\%\(/)<0)return;b.length>10&&(ColectedCSS.push({css:b,url:"local"}),$.renderCSScript())}})},ColectedCSS=[];$.renderCSScript=function(){foreach(ColectedCSS,function(a){var b=new CSSStylesheet(a.url,a.css);b.parseRules()})};var ColectedCSScript=[],CSScriptLists=function(){return this.length=0,this};CSScriptLists.prototype={push:function(a){return this[this.length]=a,this.length=this.length+1,this}},window.CSScriptLists=new CSScriptLists;var CSSStylesheet=function(a,b){return this.href=a,this.cssText=b,this.rules=new CSSRuleList,window.CSScriptLists.push(this),this};CSSStylesheet.prototype={parseRules:function(){if(this.cssText&&this.href){var a=this.cssText,b=(this.href,this);a=a.replace(/\(\s?\{/g,"(!$").replace(/\}\s?\)/g,"$!)");var c=a.match(RgxBlock);c&&foreach(c,function(a){if(!(a.search(/\%\(/)<0)||CSScriptExtractAll){a=a.replace(/\n+/,"");var c=a.slice(0,1);if("@"===c){if(a.search(/^\@/)>-1&&(a+="}"),a.search("@media")>-1)return;if(a.search("@keyframes")>-1||a.search("@-webkit-keyframes")>-1)return;if(a.search("@font-face")>-1)return}else{var d=new CSSStyleRule(a);d.parent=b.rules,d.parseStyles(!0),b.rules.push(d)}}})}}};var CSSRuleList=function(){return this.length=0,this};CSSRuleList.prototype={push:function(a){return this[this.length]=a,this.length=this.length+1,this}};var CSSStyleRule=function(a,b){return this.cssText=a,this.selector=b,this.styles=new CSSStyleList,this.cstyle=new CSScriptStyle,ColectedCSScript.push(this),this};CSSStyleRule.prototype={parseStyles:function(a){var b,c=this,d=this.cssText;if(b=d.match(/[a-zA-Z\d\.\s+\,\-\:\(\)\#\*\[\]\=\"\']+\{/)){c.type="CSSStyleRule";var e=d.replace(b[0],"").replace("}","").replace(/\n+/g,"");if(b=b[0].replace(/\s?\{/,"").replace(/\n/g," "),c.selector=b,e=e.replace(/\;\s+/,";").split(";")){{c.styles}foreach(e,function(a){if(""!==a){var a=a.replace(/\s+/g," ").replace(/\s+/,""),b=a.match(/[\*a-zA-Z\-]+\:/);if(b&&b.length>0){var d=a.replace(b[0],"").replace(/\s+/,"");b=b[0].replace(/\s+/g,"").replace(":",""),d.search(/\%\(/)>-1&&d.search(/\)\%/)?c.cstyle.push(b,d):c.styles.push(b,d)}}}),a&&c.render()}}},render:function(){var a=this,b=this.selector,c=(this.cstyle,["focus","blur","click","mouseenter","mouseleave","change"]);return b.search(":")>-1?foreach(c,function(c){b.search(c)<0||(b=b.replace(new RegExp("\\:"+c,"g"),""),$(b).each(function(b){this["_"+c+"Style"]=a,this._evcol&&$(this).unlisten("css"+c),$(this).listen("css"+c,c,function(){applyStyles.call(this,b,"_"+c+"Style")})}))}):$(b).each(function(b){this._regularStyle=a,applyStyles.call(this,b,"_regularStyle")}),this}};var applyStyles=function(i,groupd,inline){var $this=this,$props={},hasprop,cstyles=this[groupd].cstyle,selector=this[groupd].selector;if(foreach(cstyles,function(style){var key=style.property,value=style.value,inlineScript="script"===key||"scripts"===key?!0:!1;value=value.replace(/\$i/g,i).replace(/this/g,"$this").replace(/\@/g,"CSScriptVariables."),value=value.replace(/\"\%\(/,"%(").replace(/\)\%\"/,")%").replace(/\'\%\(/,"%(").replace(/\)\%\'/,")%"),value=value.replace(/\(\!\$/g,"({").replace(/\$\!\)/g,"})");var csscValues=value.match(/\%\([a-zA-Z\.\,\!\@\%\(\)\'\"\:\?\d\<\>\*\/\=\$\#\s\+\-\_\[\]\{\}\|\&\\]+\)\%/g);if(csscValues&&foreach(csscValues,function(csscValue){var newValue,script=csscValue.replace(/\%\(/,"").replace(/\)\%/,"");if(inlineScript){try{eval(script)}catch(err){}delete $props[key]}else{try{eval("newValue = "+script)}catch(err){}value=void 0!==newValue?value.replace(csscValue,newValue):value.replace(csscValue,null)}}),!inlineScript){hasprop=!0;try{eval("value = "+value)}catch(err){}$props[key]=void 0!==value?value:null}}),hasprop)if(inline)$(this).css($props);else{$(this).attr("cssid",this.getAttribute("cssid")||CSSID++);var cssString=createCSS(selector+'[cssid="'+(this.getAttribute("cssid")||CSSID++)+'"]',$props);this._oldcss&&CSScriptCSS.search(this._oldcss)>-1?CSScriptCSS=CSScriptCSS.replace(this._oldcss,cssString):CSScriptCSS+=cssString,$("#csscript-holder").html(CSScriptCSS),this._oldcss=cssString}return $props},PrivateVariables=function(){return this};PrivateVariables.prototype={push:function(a,b){this[a]=b}};var createCSS=function(a,b){if(isString(a)&&isObject(b)){var c="\n"+a+" { \n";foreach(b,function(a,b){c+="	"+a+": "+(isNumber(b)?b+"px":b)+";\n"}),c=c.replace(/\n$/,""),c+="\n}"}return c},CSSStyleList=function(){return this};CSSStyleList.prototype={push:function(a,b){return this[a]=b,this}};var CSScriptStyle=function(){return this.render=!1,this.length=0,this};CSScriptStyle.prototype={push:function(a,b){return this[this.length]={property:a,value:b},this.length++,this}};var CSSMediaRule=function(a,b){return this.cssText=a,this.queries=b,this.rules=new CSSRuleList,this},CSSKeyframeRule=function(a,b){return this.cssText=a,this.selector=b,this.styles=new CSSStyleList,this},CSSFontRule=function(a,b){return this.cssText=a,this.selector=b,this.styles=new CSSStyleList,this};window.CSScriptVariables={};var CSScriptCSS="",CSSID=0;window.CSScriptExtractAll=!1;var RgxBlock=/[a-zA-Z\d\@\%\#\*\[\]\=\"\'\d\s+\.\,\:\-\_\(\)]+\{\s+[a-zA-Z\!\/\d\:\s?;\-\%\#\'\"\.\,\(\)\*\+\{\<\>\=\@\?\$\_\[\]\|\&\\]+\}/g,windowresize=setTimeout(function(){},200);window.addEventListener("resize",function(){clearTimeout(windowresize),windowresize=setTimeout(function(){foreach(ColectedCSScript,function(a){a.render()})},200)})}(DOMList);
//# sourceMappingURL=csscript.domlist.min.map