!function($){"use strict";window.CSScriptExtractAll=!1;var RgxBlock=/[a-zA-Z\d\@\%\#\*\[\]\=\"\'\d\s+\.\,\:\-\_\(\)]+\{\s+[a-zA-Z\!\/\d\:\s?;\-\%\#\'\"\.\,\(\)\*\+\{\<\>\?\$\_\[\]]+\}?\}/g;$.ready(function(){initParser()});var ColectedCSS=[],ColectedCSScript=[],initParser=function(){$('link[rel="stylesheet"]').each(function(){var a=$(this).attr("href");if(isString(a))$.get(a).success(function(b){b.search(/\%\(/)<0&&!CSScriptExtractAll||(ColectedCSS.push({css:b,url:a}),$.renderCSScript())});else{var b=$(this).html();if(b.search(/\%\(/)<0)return;b.length>10&&(ColectedCSS.push({css:b,url:"local"}),$.renderCSScript())}})};$.renderCSScript=function(){foreach(ColectedCSS,function(a){extractBlocks(a.css,a.url)})};var windowresize=setTimeout(function(){},200);window.addEventListener("resize",function(){clearTimeout(windowresize),windowresize=setTimeout(function(){foreach(ColectedCSScript,function(a){$(a.selector).each(function(b){applyDeclaration.call(this,b,a.declaredCSScript)})})},200)});var extractBlocks=function(a,b){if(isString(a)){var c=a.match(RgxBlock);if(c){var d=new CSSStylesheet(b);foreach(c,function(a){if(!(a.search(/\%\(/)<0)||CSScriptExtractAll){a.search("@")>-1&&(a+="}"),a=a.replace(/\n+/,"");var b=a.slice(0,1);if("@"===b)if(a.search("@media")>-1){return}else{if(a.search("@keyframes")>-1||a.search("@-webkit-keyframes")>-1)return;if(a.search("@font-face")>-1)return}else{var c=new CSSStyleRule(a);parseRule(c,a,!0),d.rules.push(c)}}})}}},parseRule=function(a,b,c){var d,e=a,f=b.slice(0,1);if("."===f?(d=b.match(/^.[a-zA-Z\d\.\s+\,\-\:\(\)\#\*\[\]\=\"\']+\{/),e.type="CSSStyle"):"#"===f?(d=b.match(/^#[a-zA-Z\d\.\s+\,\-\:\(\)\#\*\[\]\=\"\']+\{/),e.type="CSSStyle"):f.search(/[a-zA-Z]:1/)&&(d=b.match(/^[a-zA-Z\d\.\s+\,\-\:\(\)\#\*\[\]\=\"\']+\{/),e.type="CSSStyle"),d){var g=b.replace(d[0],"").replace("}","").replace(/\n+/g,"");if(d=d[0].replace(/\s?\{/,"").replace(/\n/g," "),e.selector=d,g=g.replace(/\;\s+/,";").split(";")){var h={proceed:!1};if(foreach(g,function(a){if(""!==a){var a=a.replace(/\s+/g," ").replace(/\s+/,""),b=a.match(/[\*a-zA-Z\-]+\:/);if(b&&b.length>0){var d=a.replace(b[0],"").replace(/\s+/,"");b=b[0].replace(/\s+/g,"").replace(":",""),c&&d.search(/\%\(/)>-1&&d.search(/\)\%/)&&(h[b]=d,h.proceed=!0),e.styles.push(b,d)}}}),c&&h.proceed)if(delete h.proceed,a.declaredCSScript=h,ColectedCSScript.push(a),d.search(":hover")>-1){var i=d.replace(/\:hover/g,"").replace(/\:focuse/g,"").replace(/\:checked/g,"");$(i).each(function(a){this._evcol&&$(this).unlisten("csschover"),$(this).listen("csschover",{mouseenter:function(){applyDeclaration.call(this,a,h)},mouseleave:function(){$(this).css(this.defcssc||{})}})})}else if(d.search(":focus")>-1){var i=d.replace(/\:hover/g,"").replace(/\:focuse/g,"").replace(/\:checked/g,"").replace(/\:click/g,"");$(i).each(function(a){this._evcol&&$(this).unlisten("csscfocus"),$(this).listen("csscfocus",{focus:function(){applyDeclaration.call(this,a,h)},blur:function(){$(this).css(this.defcssc||{})}})})}else if(d.search(":click")>-1){var i=d.replace(/\:hover/g,"").replace(/\:focuse/g,"").replace(/\:checked/g,"").replace(/\:click/g,"");$(i).each(function(a){this._evcol&&$(this).unlisten("csscclick"),$(this).listen("csscclick",{click:function(){applyDeclaration.call(this,a,h)}})})}else $(d).each(function(a){applyDeclaration.call(this,a,h)})}}return e},applyDeclaration=function(i,cssDecl){var $this=this,$props={};return foreach(cssDecl,function(key,value){key="script"===key||"scripts"===key?"content":key,value=value.replace(/\$i/g,i).replace("this","$this"),value=value.replace(/\"\%\(/,"%(").replace(/\)\%\"/,")%"),value=value.replace(/\'\%\(/,"%(").replace(/\)\%\'/,")%");var csscValues=value.match(/\%\([a-zA-Z\.\,\!\(\)\'\"\:\?\d\<\>\*\/\=\$\s\+\-\_\[\]]+\)\%/g);csscValues&&foreach(csscValues,function(csscValue){var newValue,script=csscValue.replace(/\%\(/,"").replace(/\)\%/,"");try{eval("newValue = "+script)}catch(err){}value=void 0!==newValue?value.replace(csscValue,newValue):value.replace(csscValue,null)});try{eval("value = "+value)}catch(err){}$props[key]=void 0!==value?value:null}),$(this).css($props),this.defcssc||(this.defcssc=$props),$props},CSScriptLists=function(){return this.length=0,this};CSScriptLists.prototype={push:function(a){return this[this.length]=a,this.length=this.length+1,this}},window.CSScriptLists=new CSScriptLists;var CSSRuleList=function(){return this.length=0,this};CSSRuleList.prototype={push:function(a){return this[this.length]=a,this.length=this.length+1,this}};var CSSStylesheet=function(a){return this.href=a,this.rules=new CSSRuleList,window.CSScriptLists.push(this),this},CSSStyleRule=function(a,b){return this.cssText=a,this.selector=b,this.styles=new CSSStyleList,this},CSSMediaRule=function(a,b){return this.cssText=a,this.queries=b,this.rules=new CSSRuleList,this},CSSKeyframeRule=function(a,b){return this.cssText=a,this.selector=b,this.styles=new CSSStyleList,this},CSSFontRule=function(a,b){return this.cssText=a,this.selector=b,this.styles=new CSSStyleList,this},CSSStyleList=function(){return this};CSSStyleList.prototype={push:function(a,b){return this[a]=b,this}}}(DOMList);