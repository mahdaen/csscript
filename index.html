<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>CSScript by mahdaen</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>CSScript</h1>
        <p>CSS inline script runner. Use javascript pattern to define css value.</p>
        <p class="view"><a href="https://github.com/mahdaen/csscript">View the Project on GitHub <small>mahdaen/csscript</small></a></p>
        <ul>
          <li><a href="https://github.com/mahdaen/csscript/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/mahdaen/csscript/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/mahdaen/csscript">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="css-script" class="anchor" href="#css-script" aria-hidden="true"><span class="octicon octicon-link"></span></a>CSS Script</h1>

<p>Inline <code>css</code> script runner. Use <code>javascript</code> to define <code>css</code> value or eval script directly via css.
<strong>CSS Script</strong> is <a href="https://github.com/mahdaen/domlist">DOMList</a> and <strong>jQuery</strong> extension.
To makes <strong>CSS Script</strong> working, you should load it after loading DOMList.
If you want to use <strong>jQUery</strong>, then you must load <a href="https://github.com/mahdaen/jqpatch">jQPatch</a> before load this. </p>

<h3>
<a id="syntax" class="anchor" href="#syntax" aria-hidden="true"><span class="octicon octicon-link"></span></a><strong>Syntax</strong>
</h3>

<hr>

<p><code>cssproperty: '%(SCRIPT)%';</code></p>

<p>Scripts should be inside <code>%()%</code> pattern. Currently we have param <code>$i</code> as index number of selected element.</p>

<h3>
<a id="configs" class="anchor" href="#configs" aria-hidden="true"><span class="octicon octicon-link"></span></a><strong>CONFIGS</strong>
</h3>

<hr>

<p>By default, CSScript convert the CSSRule string to CSSRule object if contains CSScript pattern.
If you want to convert all rules no matter they have CSScript pattern or not, please write config before loading the CSScript.</p>

<p><strong>WARNING!</strong> Converting all rules will takes load time on a big css.</p>

<p>We also added <code>AutoRender</code> support for DOM insertion event. So, when some dom element inserted into document,
CSSCript will re-render. We use animation to define insertion event since dom mutation event already deprecated.
By default we turn this feature <code>off</code> for performance support. You can enable it by adding configs before loading CSScript.</p>

<ul>
<li>
<code>window.CSScriptExtractAll</code> - Extract all rules.</li>
<li>
<code>window.CSScriptAutoRender</code> - Re-render styles when DOM element inserted into document.</li>
</ul>

<h6>
<a id="config-sample" class="anchor" href="#config-sample" aria-hidden="true"><span class="octicon octicon-link"></span></a>Config sample</h6>

<div class="highlight highlight-html"><pre><span class="pl-s2">    &lt;<span class="pl-ent">script</span> <span class="pl-e">type</span>=<span class="pl-s1"><span class="pl-pds">"</span>text/javascript<span class="pl-pds">"</span></span>&gt;</span>
<span class="pl-s2">        <span class="pl-c">// Extract all rules.</span></span>
<span class="pl-s2">        <span class="pl-s3">window</span>.CSScriptExtractAll <span class="pl-k">=</span> <span class="pl-c1">true</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2">        <span class="pl-c">// Enable auto-render on DOM insertion.</span></span>
<span class="pl-s2">        <span class="pl-s3">window</span>.CSScriptAutoRender <span class="pl-k">=</span> <span class="pl-c1">true</span>;</span>
<span class="pl-s2">    &lt;/<span class="pl-ent">script</span>&gt;</span>
<span class="pl-s2">    &lt;<span class="pl-ent">script</span> <span class="pl-e">type</span>=<span class="pl-s1"><span class="pl-pds">"</span>text/javascript<span class="pl-pds">"</span></span> <span class="pl-e">src</span>=<span class="pl-s1"><span class="pl-pds">"</span>csscript/dist/csscript.min.j<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;</span></pre></div>

<p>If you want to access the converted rules, you can read <code>window.CSScriptLists</code> object in browser console.</p>

<h4>
<a id="download" class="anchor" href="#download" aria-hidden="true"><span class="octicon octicon-link"></span></a><strong>Download</strong>
</h4>

<hr>

<p>You can get <strong>CSScript</strong> by choosing download above or using:</p>

<pre><code>npm install csscript
</code></pre>

<p>or</p>

<pre><code>bower install csscript
</code></pre>

<h4>
<a id="todo" class="anchor" href="#todo" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<strong>TODO</strong>:</h4>

<hr>

<ul>
<li>Add Font Face Support</li>
<li>Add Keyframes Support</li>
<li>Add more events support.</li>
</ul>

<h4>
<a id="supported-events" class="anchor" href="#supported-events" aria-hidden="true"><span class="octicon octicon-link"></span></a><strong>Supported Events</strong>
</h4>

<hr>

<ul>
<li><code>click</code></li>
<li><code>hover</code></li>
<li><code>mouseenter</code></li>
<li><code>mouseleave</code></li>
<li><code>focus</code></li>
<li><code>blur</code></li>
<li><code>change</code></li>
</ul>

<h4>
<a id="inline-params" class="anchor" href="#inline-params" aria-hidden="true"><span class="octicon octicon-link"></span></a><strong>Inline Params</strong>
</h4>

<hr>

<ul>
<li>
<code>$i</code> as index number of current element.</li>
<li>
<code>@</code> as <code>var</code> to define variable. e.g: <code>@winHeight = window.innerHeight</code> is equal to <code>var winHeight = window.innerHeight</code>
</li>
</ul>

<h3>
<a id="examples" class="anchor" href="#examples" aria-hidden="true"><span class="octicon octicon-link"></span></a><strong>Examples</strong>
</h3>

<hr>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">html</span>&gt;
    &lt;<span class="pl-ent">head</span>&gt;
        &lt;<span class="pl-ent">link</span> <span class="pl-e">rel</span>=<span class="pl-s1"><span class="pl-pds">"</span>stylesheet<span class="pl-pds">"</span></span> <span class="pl-e">href</span>=<span class="pl-s1"><span class="pl-pds">"</span>main.css<span class="pl-pds">"</span></span> /&gt;
<span class="pl-s2">        &lt;<span class="pl-ent">script</span> <span class="pl-e">type</span>=<span class="pl-s1"><span class="pl-pds">"</span>text/javascript<span class="pl-pds">"</span></span> <span class="pl-e">src</span>=<span class="pl-s1"><span class="pl-pds">"</span>domlist/dist/domlist.min.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;</span>
<span class="pl-s2">        &lt;<span class="pl-ent">script</span> <span class="pl-e">type</span>=<span class="pl-s1"><span class="pl-pds">"</span>text/javascript<span class="pl-pds">"</span></span> <span class="pl-e">src</span>=<span class="pl-s1"><span class="pl-pds">"</span>csscript/dist/csscript.min.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;</span>
    &lt;/<span class="pl-ent">head</span>&gt;
    &lt;<span class="pl-ent">body</span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s1"><span class="pl-pds">"</span>container<span class="pl-pds">"</span></span>&gt;
            &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s1"><span class="pl-pds">"</span>container-offset<span class="pl-pds">"</span></span>&gt;
                &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s1"><span class="pl-pds">"</span>container-content<span class="pl-pds">"</span></span>&gt;
                    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s1"><span class="pl-pds">"</span>only-mobile<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">div</span>&gt;
                &lt;/<span class="pl-ent">div</span>&gt;
            &lt;/<span class="pl-ent">div</span>&gt;
        &lt;/<span class="pl-ent">div</span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s1"><span class="pl-pds">"</span>fit-list<span class="pl-pds">"</span></span>&gt;
            &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s1"><span class="pl-pds">"</span>fill<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">div</span>&gt;
            &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s1"><span class="pl-pds">"</span>fill<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">div</span>&gt;
            &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s1"><span class="pl-pds">"</span>fill<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">div</span>&gt;
        &lt;/<span class="pl-ent">div</span>&gt;
    &lt;/<span class="pl-ent">body</span>&gt;
&lt;/<span class="pl-ent">html</span>&gt;</pre></div>

<h5>
<a id="maincss" class="anchor" href="#maincss" aria-hidden="true"><span class="octicon octicon-link"></span></a><strong>main.css</strong>
</h5>

<div class="highlight highlight-css"><pre><span class="pl-e">.container</span> {
    <span class="pl-mp"><span class="pl-s3">width</span></span>: <span class="pl-s1"><span class="pl-pds">'</span>%(window.innerWidth &gt; 960 ? 960 : window.innerWidth)%<span class="pl-pds">'</span></span>;
    <span class="pl-mp"><span class="pl-s3">margin</span></span>: <span class="pl-c1">0</span> <span class="pl-sc">auto</span>;
}
<span class="pl-e">.container-offset</span> {
    <span class="pl-mp"><span class="pl-s3">height</span></span>: <span class="pl-c1">300<span class="pl-k">px</span></span>;
}
<span class="pl-e">.container-content</span> {
    <span class="pl-mp"><span class="pl-s3">height</span></span>: <span class="pl-s1"><span class="pl-pds">'</span>%($(".container").height() / 2)%<span class="pl-pds">'</span></span>;
}
<span class="pl-e">.mobile-only</span> {
    <span class="pl-mp"><span class="pl-s3">display</span></span>: <span class="pl-s1"><span class="pl-pds">'</span>%(window.innerWidth &lt;= 320 ? "block" : "none")%<span class="pl-pds">'</span></span>;
}

// Using index number of <span class="pl-ent">li</span> and log the index.
<span class="pl-ent">ul</span> <span class="pl-e">.increased-height</span> {
    <span class="pl-mp"><span class="pl-s3">height</span></span>: <span class="pl-s1"><span class="pl-pds">'</span>%(($i * 10) - 5)%<span class="pl-pds">'</span></span>;
    <span class="pl-mp">scripts</span>: <span class="pl-s1"><span class="pl-pds">'</span>%(console.log($i))%<span class="pl-pds">'</span></span>;
}

// Run javascripts.
<span class="pl-e">.container-content</span>:click {
    <span class="pl-mp">scripts</span>: <span class="pl-s1"><span class="pl-pds">'</span>%($(".container").toggleClass("content-hovered"))%<span class="pl-pds">'</span></span>;
}

// Create element that has dynamic height depend on childrens length on parent element.
<span class="pl-e">.fit-list</span> {
    <span class="pl-mp"><span class="pl-s3">display</span></span>: <span class="pl-sc">block</span>;
    <span class="pl-mp"><span class="pl-s3">width</span></span>: <span class="pl-c1">100<span class="pl-k">%</span></span>;
    <span class="pl-mp"><span class="pl-s3">height</span></span>: <span class="pl-s1"><span class="pl-pds">'</span>%( window.innerHeight )%<span class="pl-pds">'</span></span>;
}
<span class="pl-e">.fit-list</span> <span class="pl-e">.fill</span> {
    // G<span class="pl-mp">et</span> <span class="pl-mp">the</span> <span class="pl-mp">parent</span> <span class="pl-mp">element</span> <span class="pl-mp">childrens</span> <span class="pl-mp"><span class="pl-s3">length</span></span>.
    <span class="pl-mp">script</span>: <span class="pl-s1"><span class="pl-pds">'</span>%( @flChilds = $(this).parent().children().length )%<span class="pl-pds">'</span></span>;

    // G<span class="pl-mp">et</span> <span class="pl-mp">the</span> <span class="pl-mp"><span class="pl-s3">height</span></span> <span class="pl-mp">by</span> <span class="pl-mp">counting</span> <span class="pl-mp">total</span> <span class="pl-mp"><span class="pl-s3">height</span></span> <span class="pl-mp">with</span> <span class="pl-mp">total</span> <span class="pl-mp">childrens</span>.
    <span class="pl-mp">script</span>: <span class="pl-s1"><span class="pl-pds">'</span>%( @clHeight = (window.innerHeight / @flChilds) )%<span class="pl-pds">'</span></span>;

    <span class="pl-mp"><span class="pl-s3">display</span></span>: <span class="pl-sc">block</span>;
    <span class="pl-mp"><span class="pl-s3">width</span></span>: <span class="pl-c1">100<span class="pl-k">%</span></span>;
    <span class="pl-mp"><span class="pl-s3">height</span></span>: <span class="pl-s1"><span class="pl-pds">'</span>%( @clHeight )%<span class="pl-pds">'</span></span>; // U<span class="pl-mp">sing</span> @<span class="pl-mp">cl</span>H<span class="pl-mp">eight</span>
}

// Use with media query.
<span class="pl-k">@media</span> <span class="pl-k">only</span> <span class="pl-sc">screen</span> <span class="pl-k">and</span> (<span class="pl-s3">max-width</span>: <span class="pl-c1">1024</span>) {
    <span class="pl-e">.fit-list</span> {
        <span class="pl-mp">script</span>: <span class="pl-s1"><span class="pl-pds">'</span>%( $(this).appendTo(".container-content") )%<span class="pl-pds">'</span></span>;
    }
}</pre></div>

<h3>
<a id="manual-render" class="anchor" href="#manual-render" aria-hidden="true"><span class="octicon octicon-link"></span></a><strong>Manual Render</strong>
</h3>

<hr>

<p>Use <code>$.renderCSScript()</code> to re-render the styles.
Usually, it's usefull when you want to use <code>CSScript</code> after loading ajax or drawing new element.</p>

<h5>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Example</code>
</h5>

<div class="highlight highlight-js"><pre>$.ajax(<span class="pl-s1"><span class="pl-pds">'</span>http://localhost<span class="pl-pds">'</span></span>).<span class="pl-sc">complete</span>(<span class="pl-st">function</span>(<span class="pl-vpf">data</span>) {
    $(<span class="pl-s1"><span class="pl-pds">'</span>.content<span class="pl-pds">'</span></span>).append(data);

    <span class="pl-c">// Re-render styles after ajax complete and inserting content complete.</span>
    $.renderCSScript();
});</pre></div>

<h3>
<a id="notes" class="anchor" href="#notes" aria-hidden="true"><span class="octicon octicon-link"></span></a><strong>NOTES</strong>
</h3>

<hr>

<p>This project is under development. Use it if you want to give a try.
If you want to contribute to this project, I say thanks. :)
<a href="https://github.com/mahdaen/csscript">https://github.com/mahdaen/csscript</a></p>

<h2>
<a id="release-history" class="anchor" href="#release-history" aria-hidden="true"><span class="octicon octicon-link"></span></a>Release History</h2>

<ul>
<li>2015-02-24        v0.2.0      "Adding auto render on dom insertion event."</li>
<li>2015-02-22        v0.1.0      "Adding Media Query support and Manual Render (for ajax or draw purpose)"</li>
<li>2015-02-06        v0.0.1      "First release"</li>
</ul>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/mahdaen">mahdaen</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-59976857-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>